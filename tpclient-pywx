
import sys

# wxPython imports
from wxPython.wx import *

# Python Imports
from math import *
from copy import *

import string
import pprint
import thread

import sys
sys.path.append("..")

from netlib import Connection

from utils import *
from config import *

from windows.control import MainControl

class AppTP(wxApp):
	def ConfigLoad(self):
		print "AppTp.ConfigLoad"
		config = load_data("main")

		if not config:
			config = Blank()
	
	def OnInit(self):
		try:
			print "AppTp.OnInit"
			wxInitAllImageHandlers()

			self.windows = MainControl(self)
			self.connection = Connection()

			self.windows.connect.Show(TRUE)
		except:
			do_traceback()

		return TRUE
		
	def Exit(self):
		print "AppTp.exit"
		sys.exit(1)

if __name__ == '__main__':
	try:
		app = AppTP()
		app.MainLoop()
	finally:
		do_traceback()
		sys.stdin.read(1)
	
